<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Discover-SV-Travel</title>

  <!-- External stylesheet (keeps your main CSS) -->
  <link rel="stylesheet" href="style.css" />

  <!-- Small local CSS for gallery + price block + minor adjustments -->
  <style>
    /* Gallery grid */
    .gallery { max-width:1100px; margin:30px auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; align-items:stretch; }
    .gallery-item { position:relative; overflow:hidden; border-radius:10px; cursor:pointer; background:#f4f4f4; }
    .gallery-item img, .gallery-item video { width:100%; height:100%; object-fit:cover; display:block; }
    .gallery-item .caption { position:absolute; left:8px; bottom:8px; background:rgba(0,0,0,0.55); color:#fff; padding:6px 8px; border-radius:6px; font-size:0.9rem; }

    /* Lightbox modal */
    .lightbox { position:fixed; inset:0; display:none; background:rgba(0,0,0,0.85); z-index:9999; align-items:center; justify-content:center; padding:20px; }
    .lightbox.open { display:flex; }
    .lightbox-content { max-width:1100px; width:100%; max-height:90vh; background:#000; border-radius:10px; overflow:hidden; position:relative; }
    .lightbox-close { position:absolute; right:8px; top:8px; z-index:10; background:rgba(255,255,255,0.08); color:#fff; border:none; padding:6px 10px; border-radius:6px; cursor:pointer; font-weight:700; font-size:16px; }
    .lightbox img, .lightbox video { width:100%; height:100%; object-fit:contain; display:block; background:#000; }

    /* Option B price card (above Book Now) */
    .price-card { display:inline-block; width:100%; max-width:260px; padding:12px; border-radius:10px; background:linear-gradient(180deg,#fff,#fbf7ef); border:1px solid #e7e0cf; box-shadow:0 6px 18px rgba(0,0,0,0.06); font-weight:700; margin-bottom:10px; }
    .price-small { display:block; font-size:0.92rem; font-weight:700; }
    .price-note { display:block; font-size:0.85rem; color:#555; margin-top:6px; font-weight:600; }

    /* tour card layout */
    .tour-card { position:relative; margin-bottom:22px; padding:18px; background:#fff; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.04); }
    .tour-card .meta { display:flex; flex-wrap:wrap; align-items:center; gap:12px; margin-top:12px; }
    .book-btn { padding:10px 14px; border-radius:8px; border:none; background:#0a7cff; color:#fff; cursor:pointer; }

    /* reviews */
    .review-card { margin-bottom:12px; padding:12px; background:#fff; border-radius:8px; box-shadow:0 1px 6px rgba(0,0,0,0.04); }
    .review-stars { color:#f8c200; font-weight:700; margin-top:6px; }

    @media (max-width:600px){ .gallery { gap:8px; grid-template-columns:repeat(2,1fr); } .price-card { max-width:100%; } }
  </style>
</head>
<body>
  <header>
    <!-- language toggle shows opposite language label (EN <-> ES) -->
    <button id="lang-toggle" class="lang-btn" aria-label="Toggle language">ES</button>

    <h1 id="header-title">Discover-SV-Travel</h1>
    <p id="header-sub">More than tours — we share authentic Salvadoran stories and adventures</p>

    <nav>
      <a id="nav-home" href="index.html">Home</a>
      <a id="nav-about" href="about.html">About</a>
      <a id="nav-contact" href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <h2 id="page-h2">Discover Your Next Adventure — Explore Our Exclusive Tours Across El Salvador</h2>

    <p id="intro">At Discover-SV-Travel, we believe that the best way to truly experience El Salvador is through authentic, immersive tours that showcase the country’s breathtaking landscapes, rich history, and vibrant culture. Whether you’re seeking thrilling volcano hikes, relaxing beach escapes, or cultural explorations, our carefully curated small-group tours offer something unforgettable for every traveler. Let us guide you on your next adventure and help you create lasting memories.</p>

    <!-- ===== Tours (8 sections) ===== -->

    <!-- Tour 1 -->
<section class="tour-card">
  <h3 id="title-1">Crater & Capital Culture Experience</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/El_Boqueron.jpg" alt="El Boquerón Volcano Crater"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Centro_Historico.jpg" alt="Centro Histórico San Salvador"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-1">Explore the majestic El Boquerón volcano crater followed by a cultural journey through San Salvador’s historic downtown. Visit iconic landmarks including the Cathedral, National Palace, and colorful murals, finishing with an immersive experience at the National Library (BINAES). Transportation, guide, and refreshments are included for a full-day adventure combining nature and culture.</p>

  <p class="story" id="story-1"><strong>Imagine standing at the edge of a crater formed thousands of years ago, then stepping into the city where murals and monuments tell stories of resilience and hope.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-1">From $50 per person</span>
      <span class="price-note" id="price-note-1">Minimum 4 people • $75 solo traveler</span>
    </div>

    <a id="link-1" href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Crater%20%26%20Capital%20Culture%20Experience%20tour.">
      <button class="book-btn" id="book-btn-1">Book Now</button>
    </a>
  </div>
</section>


    <!-- Other tours follow same structure — preserving ids for translation -->

    <!-- Tour 2 -->
<section class="tour-card">
  <h3 id="title-2">El Tunco + Tamanique Waterfalls Adventure (Half to Full-Day)</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/El_Tunco.jpg" alt="El Tunco"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Tamanique_Cascade.jpg" alt="Tamanique Waterfalls"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-2">Start your day hiking through lush trails to reach the hidden waterfalls of Tamanique, where you can swim and even try cliff jumping. After cooling off, head to the surf town of El Tunco to enjoy local restaurants, artisan shops, and a spectacular Pacific sunset. A perfect mix of adventure and beach life in one tour.</p>

  <p class="story" id="story-2"><strong>Climb hidden trails to discover emerald waterfalls, then end your day watching the sun melt into the Pacific at El Tunco’s iconic rock arch.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-2">From $50 per person</span>
      <span class="price-note" id="price-note-2">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-2"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20El%20Tunco%20%2B%20Tamanique%20Waterfalls%20Adventure.">
      <button class="book-btn" id="book-btn-2">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 3 -->
<section class="tour-card">
  <h3 id="title-3">Ilamatepec Volcano Hike + Lago Coatepeque</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/Volcan_Ilamatepec.jpg" alt="Ilamatepec Volcano"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Lago_Coatepeque1.jpg" alt="Lake Coatepeque"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-3">Challenge yourself with a guided hike to the summit of Ilamatepec, El Salvador’s highest volcano. At the top, marvel at the vivid turquoise crater lake and sweeping mountain views. After the hike, relax at the panoramic Lake Coatepeque — take stunning photos, enjoy a lakeside lunch, or even rent a waverunner to make the most of your day.</p>

  <p class="story" id="story-3"><strong>They call it the sleeping giant — crowned by a turquoise crater lake that leaves even locals breathless. At the bottom, Lake Coatepeque sparkles like a jewel.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-3">From $50 per person</span>
      <span class="price-note" id="price-note-3">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-3"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Ilamatepec%20Volcano%20Hike.">
      <button class="book-btn" id="book-btn-3">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 4 -->
<section class="tour-card">
  <h3 id="title-4">Suchitoto Cultural Experience</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/Suchitoto_Church.jpg" alt="Suchitoto Church"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Suchitoto_Colonial_Town.jpg" alt="Suchitoto Town"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-4">Discover the colonial charm of Suchitoto with its cobbled streets, art galleries, and historic churches. Visit beautiful Lake Suchitlán and learn about the region’s indigo dye tradition through an interactive workshop or artisan demo. A relaxing day full of history, culture, and local flavors.</p>

  <p class="story" id="story-4"><strong>Cobblestone streets, whitewashed churches, and stories painted in indigo — Suchitoto feels frozen in time, yet alive with local art and tradition.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-4">From $50 per person</span>
      <span class="price-note" id="price-note-4">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-4"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Suchitoto%20Cultural%20Experience.">
      <button class="book-btn" id="book-btn-4">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 5 -->
<section class="tour-card">
  <h3 id="title-5">Ruta de las Flores Coffee & Culture Day</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/Cafe_Albania_Bike_Zipline.jpg" alt="Cafe Albania"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Cafe_Albania.jpg" alt="Cafe Albania Maze"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-5">Travel along the scenic Ruta de las Flores, renowned for its colorful colonial towns, vibrant murals, and lush coffee farms. Visit the Juayúa food festival, explore Ataco’s artisan markets and street art, and experience the thrill of Café Albania with its famous giant maze and swing. Wrap up your journey with a guided tour of a local coffee plantation — perfect for foodies, coffee lovers, and cultural explorers alike.</p>

  <p class="story" id="story-5"><strong>Through winding mountain roads, vibrant murals, and rich coffee aromas — discover why this route is loved by artists, foodies, and dreamers alike.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-5">From $50 per person</span>
      <span class="price-note" id="price-note-5">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-5"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Ruta%20de%20las%20Flores%20tour.">
      <button class="book-btn" id="book-btn-5">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 6 -->
<section class="tour-card">
  <h3 id="title-6">El Pital Highland Escape</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/El_Pital.jpg" alt="El Pital"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/El_Pital2.jpg" alt="El Pital Highlands"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-6">Journey to El Salvador’s highest point and explore the misty cloud forest of El Pital. Enjoy cool mountain air, breathtaking views, and a relaxing nature walk.</p>

  <p class="story" id="story-6"><strong>In the misty highlands, ancient pines whisper secrets, and the cool air feels like stepping into another world far from the tropical coast.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-6">From $50 per person</span>
      <span class="price-note" id="price-note-6">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-6"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20El%20Pital%20Highland%20Escape.">
      <button class="book-btn" id="book-btn-6">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 7 -->
<section class="tour-card">
  <h3 id="title-7">Los Cóbanos Snorkeling Experience</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/Los_Cobanos_Reef.jpg" alt="Los Cobanos Reef"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Los_Cobanos_Rockreef.jpg" alt="Los Cobanos Rock Reef"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-7">Dive into adventure at Los Cóbanos, home to one of El Salvador’s most beautiful coral reefs. Discover vibrant marine life on a guided snorkeling tour, then unwind on the peaceful beach. All equipment is provided — making this the perfect experience for both beginners and seasoned snorkelers.</p>

  <p class="story" id="story-7"><strong>Beneath gentle waves, coral gardens hide sea turtles and bright fish — while fishermen share tales of shipwrecks and treasures still unseen.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-7">From $50 per person</span>
      <span class="price-note" id="price-note-7">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-7"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Los%20C%F3banos%20Snorkeling%20Experience.">
      <button class="book-btn" id="book-btn-7">Book Now</button>
    </a>
  </div>
</section>


    <!-- Tour 8 -->
<section class="tour-card">
  <h3 id="title-8">Mayan Ruins Combo: Tazumal + Joya de Cerén</h3>

  <div class="images" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <img src="Images/El_Tazumal2.jpg" alt="Tazumal"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
    <img src="Images/Joya_de_Ceren2.jpg" alt="Joya de Ceren"
      style="width:100%;max-height:220px;object-fit:cover;border-radius:6px;">
  </div>

  <p id="desc-8">Step back in time on this tour of El Salvador’s top archaeological sites. Explore the impressive ruins of Tazumal in Chalchuapa and visit the UNESCO World Heritage site of Joya de Cerén, known as the “Pompeii of the Americas” for its perfectly preserved ancient village.</p>

  <p class="story" id="story-8"><strong>Walk among ancient pyramids and preserved villages, and feel the echoes of ceremonies and daily life from over a thousand years ago.</strong></p>

  <div class="meta">
    <div class="price-card" data-price="50">
      <span class="price-small" id="price-8">From $50 per person</span>
      <span class="price-note" id="price-note-8">Minimum 4 people • $75 solo traveler</span>
    </div>
    <a id="link-8"
      href="https://wa.me/50372593558?text=Hi!%20I%20want%20to%20book%20the%20Mayan%20Ruins%20Combo%20tour.">
      <button class="book-btn" id="book-btn-8">Book Now</button>
    </a>
  </div>
</section>


    <!-- ===== Gallery Section (Grid) ===== -->
    <section id="gallery-section" style="max-width:1100px;margin:38px auto;padding:0 16px;">
      <h2 id="gallery-title">Gallery</h2>
      <p id="gallery-sub">Photos & videos from our tours — click to enlarge</p>

      <div class="gallery" id="gallery-grid">
        <div class="gallery-item" data-type="image" data-src="Images/El_Boqueron.jpg" tabindex="0">
          <img src="Images/El_Boqueron.jpg" alt="El Boqueron" />
          <div class="caption" id="cap-1">El Boquerón</div>
        </div>

        <div class="gallery-item" data-type="image" data-src="Images/El_Tunco.jpg" tabindex="0">
          <img src="Images/El_Tunco.jpg" alt="El Tunco" />
          <div class="caption" id="cap-2">El Tunco</div>
        </div>

        <div class="gallery-item" data-type="image" data-src="Images/Volcan_Ilamatepec.jpg" tabindex="0">
          <img src="Images/Volcan_Ilamatepec.jpg" alt="Ilamatepec" />
          <div class="caption" id="cap-3">Ilamatepec</div>
        </div>

        <div class="gallery-item" data-type="image" data-src="Images/Los_Cobanos_Reef.jpg" tabindex="0">
          <img src="Images/Los_Cobanos_Reef.jpg" alt="Los Cobanos" />
          <div class="caption" id="cap-4">Los Cóbanos</div>
        </div>
      </div>
    </section>

  </main>

  <!-- Reviews -->
  <section id="reviews-section" style="max-width:900px;margin:30px auto;padding:0 16px;">
    <h2 id="reviews-title">Traveler Reviews</h2>

    <div id="review-list"></div>

    <h3 id="leave-review-title">Leave a Review</h3>
    <form id="review-form" style="max-width:650px;">
      <label for="name" id="label-name">Your Name:</label><br>
      <input type="text" id="name" required style="width:100%;padding:10px;border-radius:8px;margin:6px 0" />

      <label for="rating" id="label-rating">Rating:</label><br>
      <select id="rating" required style="width:100%;padding:10px;border-radius:8px;margin:6px 0">
        <option value="" id="select-rating-placeholder">Select rating</option>
        <option value="5">★★★★★ (5 stars)</option>
        <option value="4">★★★★☆ (4 stars)</option>
        <option value="3">★★★☆☆ (3 stars)</option>
        <option value="2">★★☆☆☆ (2 stars)</option>
        <option value="1">★☆☆☆☆ (1 star)</option>
      </select>

      <label for="review" id="label-review">Your Review:</label><br>
      <textarea id="review" rows="4" required style="width:100%;padding:10px;border-radius:8px;margin:6px 0"></textarea>

      <button type="submit" class="book-btn" id="submit-review-btn">Submit Review</button>
    </form>
  </section>

  <footer style="text-align:center;padding:20px 0;">
    <p id="footer-text">© 2025 DiscoverSVTravel</p>
  </footer>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true">
    <div class="lightbox-content" id="lightboxContent">
      <button class="lightbox-close" id="lightboxClose">✕</button>
      <div id="lightboxInner"></div>
    </div>
  </div>

  <!-- Translation + UI + Lightbox + Reviews JS -->
  <script>
    // Full dynamic translation (EN <-> ES)
    const translationsFull = {
      en: {
        headerTitle: "Discover-SV-Travel",
        headerSubtitle: "More than tours — we share authentic Salvadoran stories and adventures",
        navHome: "Home", navAbout: "About", navContact: "Contact",
        pageH2: "Discover Your Next Adventure — Explore Our Exclusive Tours Across El Salvador",
        intro: `At Discover-SV-Travel, we believe that the best way to truly experience El Salvador is through authentic, immersive tours that showcase the country’s breathtaking landscapes, rich history, and vibrant culture. Whether you’re seeking thrilling volcano hikes, relaxing beach escapes, or cultural explorations, our carefully curated small-group tours offer something unforgettable for every traveler. Let us guide you on your next adventure and help you create lasting memories.`,
        // Tours
        title1: "Crater & Capital Culture Experience (Full-Day)", desc1: document.getElementById('desc-1') ? document.getElementById('desc-1').textContent : '', story1: document.getElementById('story-1') ? document.getElementById('story-1').innerText : '',
        title2: "El Tunco + Tamanique Waterfalls Adventure (Half to Full-Day)", desc2: document.getElementById('desc-2') ? document.getElementById('desc-2').textContent : '', story2: document.getElementById('story-2') ? document.getElementById('story-2').innerText : '',
        title3: "Ilamatepec Volcano Hike + Lago Coatepeque", desc3: document.getElementById('desc-3') ? document.getElementById('desc-3').textContent : '', story3: document.getElementById('story-3') ? document.getElementById('story-3').innerText : '',
        title4: "Suchitoto Cultural Experience", desc4: document.getElementById('desc-4') ? document.getElementById('desc-4').textContent : '', story4: document.getElementById('story-4') ? document.getElementById('story-4').innerText : '',
        title5: "Ruta de las Flores Coffee & Culture Day", desc5: document.getElementById('desc-5') ? document.getElementById('desc-5').textContent : '', story5: document.getElementById('story-5') ? document.getElementById('story-5').innerText : '',
        title6: "El Pital Highland Escape", desc6: document.getElementById('desc-6') ? document.getElementById('desc-6').textContent : '', story6: document.getElementById('story-6') ? document.getElementById('story-6').innerText : '',
        title7: "Los Cóbanos Snorkeling Experience", desc7: document.getElementById('desc-7') ? document.getElementById('desc-7').textContent : '', story7: document.getElementById('story-7') ? document.getElementById('story-7').innerText : '',
        title8: "Mayan Ruins Combo: Tazumal + Joya de Cerén", desc8: document.getElementById('desc-8') ? document.getElementById('desc-8').textContent : '', story8: document.getElementById('story-8') ? document.getElementById('story-8').innerText : '',
        galleryTitle: "Gallery", gallerySub: "Photos & videos from our tours — click to enlarge",
        reviewsTitle: "Traveler Reviews", leaveReview: "Leave a Review",
        labelName: "Your Name:", labelRating: "Rating:", labelReview: "Your Review:", submitReview: "Submit Review",
        footer: "© 2025 DiscoverSVTravel",
        priceFrom: "From $50 per person",
        priceNote: "Minimum 4 people • $75 solo traveler"
      },
      es: {
        headerTitle: "Discover-SV-Travel",
        headerSubtitle: "Más que tours — compartimos historias y aventuras auténticas de El Salvador",
        navHome: "Inicio", navAbout: "Acerca", navContact: "Contacto",
        pageH2: "Descubre tu próxima aventura — Explora nuestros tours exclusivos por El Salvador",
        intro: `En Discover-SV-Travel creemos que la mejor manera de experimentar El Salvador es con tours auténticos e inmersivos que muestran los paisajes impresionantes, la historia rica y la vibrante cultura del país. Ya sea que busques caminatas por volcanes, escapadas a la playa o exploraciones culturales, nuestros tours en grupos pequeños ofrecen algo inolvidable para cada viajero. Permítenos guiarte en tu próxima aventura y ayudarte a crear recuerdos duraderos.`,
        // Tours (Spanish)
        title1: "Experiencia Cráter y Centro Histórico (Día Completo)", desc1: document.getElementById('desc-1') ? document.getElementById('desc-1').textContent : '', story1: document.getElementById('story-1') ? document.getElementById('story-1').innerText : '',
        title2: "El Tunco + Cascadas de Tamanique (Medio a Día Completo)", desc2: document.getElementById('desc-2') ? document.getElementById('desc-2').textContent : '', story2: document.getElementById('story-2') ? document.getElementById('story-2').innerText : '',
        title3: "Ascenso al Volcán Ilamatepec + Lago Coatepeque", desc3: document.getElementById('desc-3') ? document.getElementById('desc-3').textContent : '', story3: document.getElementById('story-3') ? document.getElementById('story-3').innerText : '',
        title4: "Experiencia Cultural en Suchitoto", desc4: document.getElementById('desc-4') ? document.getElementById('desc-4').textContent : '', story4: document.getElementById('story-4') ? document.getElementById('story-4').innerText : '',
        title5: "Ruta de las Flores: Café y Cultura", desc5: document.getElementById('desc-5') ? document.getElementById('desc-5').textContent : '', story5: document.getElementById('story-5') ? document.getElementById('story-5').innerText : '',
        title6: "Escapada a las Alturas de El Pital", desc6: document.getElementById('desc-6') ? document.getElementById('desc-6').textContent : '', story6: document.getElementById('story-6') ? document.getElementById('story-6').innerText : '',
        title7: "Experiencia de Snorkel en Los Cóbanos", desc7: document.getElementById('desc-7') ? document.getElementById('desc-7').textContent : '', story7: document.getElementById('story-7') ? document.getElementById('story-7').innerText : '',
        title8: "Ruta Maya: Tazumal + Joya de Cerén", desc8: document.getElementById('desc-8') ? document.getElementById('desc-8').textContent : '', story8: document.getElementById('story-8') ? document.getElementById('story-8').innerText : '',
        galleryTitle: "Galería", gallerySub: "Fotos y videos de nuestros tours — haz clic para ampliar",
        reviewsTitle: "Reseñas de Viajeros", leaveReview: "Deja una Reseña",
        labelName: "Tu Nombre:", labelRating: "Calificación:", labelReview: "Tu Reseña:", submitReview: "Enviar Reseña",
        footer: "© 2025 DiscoverSVTravel",
        priceFrom: "Desde $50 por persona",
        priceNote: "Mín. 4 personas • $75 viajero solo"
      }
    };

    // language state
    let lang = localStorage.getItem('lang') || 'en';

    function setTextIfExists(id, text) { const el = document.getElementById(id); if (el) el.textContent = text; }

    function applyTranslations() {
      const t = translationsFull[lang];
      setTextIfExists('header-title', t.headerTitle);
      setTextIfExists('header-sub', t.headerSubtitle);
      setTextIfExists('nav-home', t.navHome);
      setTextIfExists('nav-about', t.navAbout);
      setTextIfExists('nav-contact', t.navContact);
      setTextIfExists('page-h2', t.pageH2);
      setTextIfExists('intro', t.intro);

      // tours titles & descriptions
      for (let i=1;i<=8;i++){
        setTextIfExists(`title-${i}`, t[`title${i}`] || document.getElementById(`title-${i}`)?.textContent);
        // Only replace desc/story when we have translations inside object (we preserved original desc fallback above)
        if (t[`desc${i}`]) setTextIfExists(`desc-${i}`, t[`desc${i}`]);
        if (t[`story${i}`] && document.getElementById(`story-${i}`)) {
          const s = document.getElementById(`story-${i}`);
          if (s.querySelector('strong')) s.querySelector('strong').textContent = t[`story${i}`];
          else s.textContent = t[`story${i}`];
        }
        // price texts
        setTextIfExists(`price-${i}`, t.priceFrom.replace(/\$?50/, '$50'));
        setTextIfExists(`price-note-${i}`, t.priceNote);
      }

      setTextIfExists('gallery-title', t.galleryTitle);
      setTextIfExists('gallery-sub', t.gallerySub);
      setTextIfExists('reviews-title', t.reviewsTitle);
      setTextIfExists('leave-review-title', t.leaveReview);
      setTextIfExists('label-name', t.labelName);
      setTextIfExists('label-rating', t.labelRating);
      setTextIfExists('label-review', t.labelReview);
      setTextIfExists('submit-review-btn', t.submitReview);
      setTextIfExists('footer-text', t.footer);

      // update individual price-cards (they use price-note ids)
      for (let i=1;i<=8;i++){
        const priceCard = document.querySelector(`#price-note-${i}`);
        if(priceCard) priceCard.textContent = t.priceNote;
        const priceSmall = document.querySelector(`#price-${i}`);
        if(priceSmall) priceSmall.textContent = (lang==='es' ? t.priceFrom : t.priceFrom);
      }

      // toggle button label
      const toggleBtn = document.getElementById('lang-toggle');
      if (toggleBtn) toggleBtn.textContent = lang === 'en' ? 'ES' : 'EN';
    }

    // initialize translation text nodes that might not exist yet
    // Ensure each price-note element exists (we created price-note-# ids)
    for (let i=1;i<=8;i++){
      const noteId = `price-note-${i}`;
      const card = document.getElementById(noteId);
      if (!card){
        const el = document.getElementById(`price-note-${i}`);
      }
    }

    // toggle handler
    document.getElementById('lang-toggle').addEventListener('click', () => {
      lang = (lang === 'en') ? 'es' : 'en';
      localStorage.setItem('lang', lang);
      applyTranslations();
    });

    // apply on load
    applyTranslations();

    /* ================================
       Lightbox gallery JS
    ================================ */
    const galleryGrid = document.getElementById('gallery-grid');
    const lightbox = document.getElementById('lightbox');
    const lightboxInner = document.getElementById('lightboxInner');
    const lightboxClose = document.getElementById('lightboxClose');

    function openLightbox(type, src, alt) {
      lightboxInner.innerHTML = '';
      if (type === 'video') {
        const v = document.createElement('video'); v.src = src; v.controls = true; v.autoplay = true; v.style.maxHeight = '90vh'; lightboxInner.appendChild(v);
      } else {
        const img = document.createElement('img'); img.src = src; img.alt = alt || ''; lightboxInner.appendChild(img);
      }
      lightbox.classList.add('open'); lightbox.setAttribute('aria-hidden','false');
    }
    function closeLightbox() { lightbox.classList.remove('open'); lightboxInner.innerHTML=''; lightbox.setAttribute('aria-hidden','true'); }

    galleryGrid?.addEventListener('click', (e)=>{ const item = e.target.closest('.gallery-item'); if(!item) return; const type = item.getAttribute('data-type')||'image'; const src = item.getAttribute('data-src'); const alt = item.querySelector('img')?.alt||''; openLightbox(type, src, alt); });
    galleryGrid?.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ const item = e.target.closest('.gallery-item'); if(!item) return; const type = item.getAttribute('data-type')||'image'; const src = item.getAttribute('data-src'); const alt = item.querySelector('img')?.alt||''; openLightbox(type, src, alt); }});
    lightboxClose?.addEventListener('click', closeLightbox);
    lightbox?.addEventListener('click', (e)=>{ if(e.target===lightbox) closeLightbox(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeLightbox(); });

    /* ================================
       Firestore Reviews (existing setup preserved)
    ================================ */
    // NOTE: Firebase SDK must be loaded in page for the following to work
    function escapeHtml(text){ if (!text && text !== 0) return ''; return String(text).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;'); }

    function loadReviews(){
      const reviewList = document.getElementById('review-list'); if(!reviewList) return; 
      if(typeof db === 'undefined') return; // firebase not loaded
      db.collection('reviews').orderBy('timestamp','desc').onSnapshot(snapshot => {
        reviewList.innerHTML = '';
        snapshot.forEach(doc => {
          const r = doc.data();
          const ts = r.timestamp && (typeof r.timestamp === 'number' ? new Date(r.timestamp) : (r.timestamp.toDate ? r.timestamp.toDate() : new Date(r.timestamp)));
          const dateStr = ts ? ts.toLocaleDateString() : '';
          const safeName = escapeHtml(r.name);
          const safeReview = escapeHtml(r.review || r.text || '');
          const rating = Math.max(0, Math.min(5, r.rating || 0));
          const stars = '★'.repeat(rating) + '☆'.repeat(5-rating);

          const card = document.createElement('div'); card.className='review-card'; card.innerHTML = `<div class="review-name">${safeName}</div><div class="review-date">${dateStr}</div><div class="review-stars">${stars}</div><p class="review-text">${safeReview}</p>`;
          reviewList.appendChild(card);
        });
      });
    }

    // submit handler (if Firestore available)
    document.getElementById('review-form')?.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const name = document.getElementById('name')?.value.trim();
      const rating = parseInt(document.getElementById('rating')?.value || 0);
      const review = document.getElementById('review')?.value.trim();
      if(!name || !rating || !review){ alert(lang==='es'?'Por favor completa todos los campos antes de enviar.':'Please complete all fields before submitting.'); return; }
      if(typeof db === 'undefined'){ alert(lang==='es'?'No se puede enviar la reseña: servicio no disponible.':'Unable to submit review: service not available.'); return; }
      await db.collection('reviews').add({ name, rating, review, timestamp: Date.now() });
      document.getElementById('review-form').reset();
      alert(lang==='es'?'Gracias — tu reseña fue enviada!':'Thank you — your review was submitted!');
    });

    // attempt load reviews (will do nothing if Firestore not loaded)
    loadReviews();
  </script>

  <!-- FIREBASE SDK (CDN) - left here in page intentionally; your keys (if present) will initialize DB -->
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
  <script>
    // If you have firebaseConfig, paste here. Initialization is optional — we don't include keys here for safety.
    try {
      if (typeof firebase !== 'undefined' && firebase?.initializeApp) {
        // initialize only if you provide firebaseConfig in a secure manner
        // Example: const app = firebase.initializeApp(firebaseConfig); const db = firebase.firestore();
      }
    } catch (e) { console.warn('Firebase not initialized', e); }
  </script>
</body>
</html>
